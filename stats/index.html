<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="description" content="Glancee is a mobile app that helps you discover and connect with new interesting people around you. Download Glancee for iPhone and Android devices."/>
  <title>Glancee Stats</title>
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="stylesheet" href="/static/css/screen.css"/>
  <link rel="stylesheet" href="/static/css/960_24.css"/>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="/static/js/highcharts.js"></script>
  <style>
    .chart {
      height: 300px;
    }
    #events > li:hover {
      border-left: 1px solid #aaa;
      margin-left: -6px;
      padding-left: 5px;
    }
  </style>
</head>
<body>
<div class="container_24">
  <div class="grid_8">
    <div class="title">Glancee Stats</div>
  </div>
  <div class="grid_16 justify">
    This page presents a list of the main events in Glancee history and statistics about our users and the activities they perform. You may
    mouse over an event to see it visualized in the charts on the right. <strong>Please do not share this page without permission.</strong>
  </div>
  <div class="clear"></div>
  <div class="grid_12 justify">
    <h3>Major Events</h3>
    <ul id="events">
      <li id="2011-06-8">
        <h4>2011-06-8 | Glancee 1.0 released</h4>
        We publicly released 1.0 to continue testing with more users and events.
      </li>
      <li id="2011-06-10">
        <h4>2011-06-10 | Foo Camp and EuroPython</h4>
        We partnered with two great events by O'Reilly Media and PyCon Italia.
      </li>
      <li id="2011-07-18">
        <h4>2011-07-18 | Glancee 1.2 released</h4>
        The new version came with many fixes and an improved chat interface.
      </li>
      <li id="2011-08-10">
        <h4>2011-08-10 | Relocating to San Francisco</h4>
        Given the positive feedback, we dicided to move to SF to raise money.
      </li>
      <li id="2011-08-30">
        <h4>2011-08-30 | Glancee 1.2.5 released</h4>
        The new version came with better matching improved voice-over-ip.
      </li>
      <li id="2011-09-08">
        <h4>2011-09-08 | Preparing for Vator Splash</h4>
        We asked our users to vote for us. We collected 260+ votes in 5 days.
      </li>
    </ul>
  </div>
  <div class="grid_12">
    <h3>To infinity and beyond!</h3>
    <div id="chart-1" class="chart"></div>
    <div id="chart-2" class="chart"></div>
  </div>
  <div class="clear border"></div>
  <div class="container_24 margin-b-20" id="footer">
    <div class="grid_6">
      <h3>Links</h3>
      <ul>
        <li><a class="noborder link-iphone" href="http://itunes.apple.com/us/app/glancee/id440898938">Download for iPhone</a></li>
        <li><a class="noborder link-android" href="http://market.android.com/details?id=com.glancee.mobile.android">Download for Android</a></li>
        <li><a class="noborder link-facebook-app" href="http://apps.facebook.com/glancee">Check out the Facebook App</a></li>
        <li><a class="noborder link-blog" href="http://blog.glancee.com">Read our Blog</a></li>
        <li><a class="noborder link-help" href="http://help.glancee.com">Help and Support</a></li>
      </ul>
    </div>
    <div class="grid_6">
      <h3>More</h3>
      <ul>
        <li><a class="noborder link-events" href="/events">Glancee for Events</a></li>
        <li><a class="noborder link-agreement" href="/agreement">User Agreement</a></li>
        <li><a class="noborder link-facebook" href="http://facebook.com/glanceeapp">Like Us on Facebook</a></li>
        <li><a class="noborder link-twitter" href="http://twitter.com/glanceeapp">Follow Us on Twitter</a></li>
      </ul>
    </div>
    <div class="grid_12">
        <h3>Hello from the Glancee team!</h3>
        Hi! We are <a href="http://andreavaccari.com">Andrea</a>, <a href="http://twitter.com/albertotretti">Alberto</a>,
        and <a href="http://twitter.com/griseg">Gabriel</a>. We created Glancee to bring together the best of our physical
        and digital worlds. If you like our idea,<br>if it drives you mad, or if you just want to say hello,
        <a href="mailto:info@glancee.com?subject=Hello Glancee!">send us an email</a>.
    </div>
    <div class="grid_24 copyright">
      Â© 2012 Glancee<br><br>
      <a class="noborder" href="http://mixpanel.com/f/partner"><img src="http://mixpanel.com/site_media/images/partner/badge_light.png" alt="Web Analytics"/></a>
    </div>
  </div>
</div>
<script>
  $(function() {
    jQuery.getJSON('/stats/index.json', null, function(data) {
    //jQuery.getJSON('http://localhost:8080/stats?callback=?', null, function(data) {
      var chart1 = new Highcharts.Chart({
        chart: {
          renderTo: 'chart-1'
        },
        credits: {
          enabled: false
        },
        title: {
          text: 'User Growth'
        },
        xAxis: {
          type: 'datetime',
          min: 1306886400000,
          plotBands: [
            {
              color: '#ddd',
              label: { align: 'left', rotation: 90, style: { color: '#aaa' }, text: 'Current week', x: 6, y: 6 },
              from: data['time_max'] - 604800000,
              to: data['time_max']
            }
          ]
        },
        yAxis: {
          title: { text: null },
          plotLines: [
            {
              value: 0,
              width: 1,
              color: '#808080'
            }
          ],
          min: 0
        },
        legend: {
          verticalAlign: 'top',
          y: 20,
          borderWidth: 0
        },
        series: [
          {data: data['signups'], marker: { enabled: false }, name: 'Registered Users'},
          {data: data['actives'], marker: { enabled: false }, name: 'Active Users'}
        ]
      });
      var chart2 = new Highcharts.Chart({
        chart: {
          renderTo: 'chart-2'
        },
        credits: {
          enabled: false
        },
        title: {
          text: 'User Activity'
        },
        xAxis: {
          type: 'datetime',
          min: 1306886400000,
          plotBands: [
            {
              color: '#ddd',
              label: { align: 'left', rotation: 90, style: { color: '#aaa' }, text: 'Current week', x: 6, y: 6 },
              from: data['time_max'] - 604800000,
              to: data['time_max']
            }
          ]
        },
        yAxis: {
          title: { text: null },
          plotLines: [
            {
              value: 0,
              width: 1,
              color: '#808080'
            }
          ],
          min: 0
        },
        legend: {
          verticalAlign: 'top',
          y: 20,
          borderWidth: 0
        },
        series: [
          {data: data['profiles'], marker: { enabled: false }, name: 'Profiles Viewed'},
          {data: data['messages'], marker: { enabled: false }, name: 'Messages Sent'}
        ]
      });

      function eventToggle(date) {
        $('#' + date).mouseover(function() {
          chart1.xAxis[0].addPlotLine({ value: Date.parse(date), color: 'lightgray', width: 2, id: 'plot-line-' + date });
          chart2.xAxis[0].addPlotLine({ value: Date.parse(date), color: 'lightgray', width: 2, id: 'plot-line-' + date });
        });
        $('#' + date).mouseout(function() {
          chart1.xAxis[0].removePlotLine('plot-line-' + date);
          chart2.xAxis[0].removePlotLine('plot-line-' + date);
        });
      }

      $('#events > li').each(function() {
        eventToggle($(this).attr('id'));
      });
    });
  });
</script>
</body>
</html>
